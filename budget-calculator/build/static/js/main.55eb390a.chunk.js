(this["webpackJsonpbudget-calculator"]=this["webpackJsonpbudget-calculator"]||[]).push([[0],{17:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var c=a(3),n=a.n(c),i=a(8),r=a.n(i),s=a(2),l=a(10),o=a(11),u=a(20),j=function(t,e){if("INPUT_CONTROL"===e.type){var a=e.payload.input;if("item"===a)return Object(s.a)(Object(s.a)({},t),{},{item:e.payload.value});if("amount"===a)return Object(s.a)(Object(s.a)({},t),{},{amount:e.payload.value})}if("CLEAR_LIST"===e.type)return Object(s.a)(Object(s.a)({},t),{},{cart:[],isAlert:{state:!0,type:"danger",msg:"list cleared"}});if("REMOVE"===e.type){var c=t.cart.filter((function(t){return t.id!==e.payload}));return Object(s.a)(Object(s.a)({},t),{},{cart:c,isAlert:{state:!0,type:"danger",msg:"item removed"}})}if("EDIT"===e.type){var n=t.cart.find((function(t){return t.id===e.payload}));return Object(s.a)(Object(s.a)({},t),{},{editFlag:!0,editID:n.id,item:n.item,amount:n.amount})}if("SUBMIT"===e.type){var i=e.payload,r=i.item,l=i.amount,j=i.editFlag,d=i.editID;if(!r||!l)return Object(s.a)(Object(s.a)({},t),{},{isAlert:{state:!0,type:"danger",msg:"please enter all values"}});if(isNaN(l))return Object(s.a)(Object(s.a)({},t),{},{isAlert:{state:!0,type:"danger",msg:"enter valid amount"}});if(j&&r&&l&&!isNaN(l)){var m=t.cart.map((function(t){return t.id===d?Object(s.a)(Object(s.a)({},t),{},{item:r,amount:l}):t}));return Object(s.a)(Object(s.a)({},t),{},{cart:m,isAlert:{state:!0,type:"success",msg:"item edited"}})}var b={id:Object(u.a)(),item:r,amount:l};return Object(s.a)(Object(s.a)({},t),{},{cart:[].concat(Object(o.a)(t.cart),[b]),isAlert:{state:!0,type:"success",msg:"item added"}})}if("TOTAL"===e.type)return Object(s.a)(Object(s.a)({},t),{},{total:e.payload});if("SET_BACK_TO_DEFAULT"===e.type)return Object(s.a)(Object(s.a)({},t),{},{editID:"",editFlag:!1,item:"",amount:""});if("ALERT"===e.type)return Object(s.a)(Object(s.a)({},t),{},{isAlert:{state:!1,type:"",msg:""}});throw new Error("there is no action type matching the dispatch")},d=a(1),m=n.a.createContext(),b={cart:localStorage.getItem("list")?JSON.parse(localStorage.getItem("list")):[],total:0,editID:null,editFlag:!1,isAlert:{state:!1,type:"success",msg:"hallo world"},item:"",amount:""},O=function(){return Object(c.useContext)(m)},p=function(t){var e=t.children,a=Object(c.useReducer)(j,b),n=Object(l.a)(a,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){var t=setTimeout((function(){r({type:"ALERT"})}),2e3);return function(){clearTimeout(t)}}),[i.isAlert]),Object(c.useEffect)((function(){var t=i.cart.reduce((function(t,e){return t+=parseInt(e.amount)}),0);localStorage.setItem("list",JSON.stringify(i.cart)),r({type:"TOTAL",payload:t})}),[i.cart]),Object(d.jsx)(m.Provider,{value:Object(s.a)(Object(s.a)({},i),{},{controlledInputs:function(t){r({type:"INPUT_CONTROL",payload:{value:t.target.value,input:t.target.name}})},clearList:function(){r({type:"CLEAR_LIST"})},removeItem:function(t){r({type:"REMOVE",payload:t})},editItem:function(t){r({type:"EDIT",payload:t})},submit:function(t){t.preventDefault();var e=i.item,a=i.amount,c=i.editFlag,n=i.editID;r({type:"SUBMIT",payload:{item:e,amount:a,editFlag:c,editID:n}}),r({type:"SET_BACK_TO_DEFAULT"})}}),children:e})},f=a(9),h=function(){var t=O(),e=t.amount,a=t.item,c=t.controlledInputs,n=t.submit,i=t.editFlag;return Object(d.jsxs)("form",{className:"budget-form",onSubmit:n,children:[Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{htmlFor:"item",children:"item"}),Object(d.jsx)("input",{type:"text",id:"item",name:"item",placeholder:"e.g rent",value:a,onChange:c}),Object(d.jsx)("hr",{})]}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{htmlFor:"amount",children:"amount"}),Object(d.jsx)("input",{type:"tel",id:"amount",name:"amount",placeholder:"e.g 100",value:e,onChange:c}),Object(d.jsx)("hr",{})]})]}),Object(d.jsxs)("button",{type:"submit",className:"submit-btn",children:[i?"edit":"submit",Object(d.jsx)(f.a,{className:"icon"})]})]})},y=a(6),g=function(){var t=O(),e=t.cart,a=t.clearList,c=t.removeItem,n=t.editItem;return Object(d.jsxs)("section",{className:"list-section",children:[e.map((function(t){return Object(d.jsxs)("article",{className:"item",children:[Object(d.jsx)("h4",{children:t.item}),Object(d.jsxs)("span",{children:["$",t.amount]}),Object(d.jsxs)("div",{className:"icon-container",children:[Object(d.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:Object(d.jsx)(y.a,{className:"edit"})}),Object(d.jsx)("button",{type:"button",onClick:function(){return c(t.id)},children:Object(d.jsx)(y.b,{className:"delete"})})]})]},t.id)})),e.length>0&&Object(d.jsx)("button",{type:"button",className:"btn clear-btn",onClick:a,children:"clear list"})]})},x=function(){var t=O(),e=t.isAlert,a=t.total,c=e.state,n=e.type,i=e.msg;return Object(d.jsx)("main",{children:Object(d.jsxs)("section",{className:"section",children:[Object(d.jsx)("h1",{children:"budget calculator"}),c&&Object(d.jsx)("p",{className:"alert alert-".concat(n),children:i}),Object(d.jsxs)("article",{className:"section-center",children:[Object(d.jsx)(h,{}),Object(d.jsx)(g,{})]}),Object(d.jsxs)("h2",{children:["total spending: ",Object(d.jsxs)("span",{children:[" $",a]})]})]})})};a(17);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(p,{children:Object(d.jsx)(x,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.55eb390a.chunk.js.map